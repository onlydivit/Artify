<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ monument.name }} - Artify</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar h1 {
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .language-selector {
            position: relative;
            margin-left: 1rem;
        }

        .language-selector select {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 2rem 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            appearance: none;
            font-size: 0.9rem;
        }

        .language-selector::after {
            content: '▼';
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            pointer-events: none;
        }

        .language-selector select:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .language-selector select:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
        }

        .monument-header {
            height: 60vh;
            background-image: url('{{ monument.image_url }}');
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .monument-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            padding: 2rem;
        }

        .header-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .header-content p {
            font-size: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .content-section {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .section-title i {
            font-size: 1.8rem;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .history-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            backdrop-filter: blur(10px);
        }

        .highlights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .highlight-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            transition: transform 0.3s;
        }

        .highlight-card:hover {
            transform: translateY(-5px);
        }

        .highlight-card h3 {
            margin-bottom: 1rem;
            color: #fff;
        }

        .highlight-card p {
            line-height: 1.6;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.2);
        }

        .audio-player {
            width: 100%;
            margin-top: 1rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .audio-player audio {
            width: 100%;
            height: 40px;
            border-radius: 20px;
        }

        .audio-player audio::-webkit-media-controls-panel {
            background: rgba(255, 255, 255, 0.1);
        }

        .audio-player audio::-webkit-media-controls-current-time-display,
        .audio-player audio::-webkit-media-controls-time-remaining-display {
            color: white;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .loading i {
            animation: spin 1s linear infinite;
            color: #4CAF50;
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Add success and error message styles */
        .message {
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            display: none;
            backdrop-filter: blur(10px);
        }

        .success-message {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }

        .error-message {
            background: rgba(244, 67, 54, 0.2);
            color: #f44336;
        }

        .virtual-tour-section {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .virtual-tour-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .virtual-tour-header i {
            font-size: 2rem;
            color: #4CAF50;
        }

        .virtual-tour-container {
            position: relative;
            width: 100%;
            height: 500px;
            border-radius: 10px;
            overflow: hidden;
            background: #000;
        }

        .virtual-tour-viewer {
            width: 100%;
            height: 100%;
            border: none;
        }

        .tour-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.5rem;
            border-radius: 25px;
        }

        .tour-control-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: background-color 0.3s;
        }

        .tour-control-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .tour-control-button.active {
            background: #4CAF50;
        }

        .tour-instructions {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .tour-instructions i {
            margin-right: 0.5rem;
            color: #4CAF50;
        }

        .no-virtual-tour {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <h1>Artify</h1>
        <div class="nav-links">
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('booking') }}">Book Now</a>
            <a href="{{ url_for('parking') }}">Parking</a>
            <a href="{{ url_for('logout') }}">Logout</a>
            <div class="language-selector">
                <select id="language-select" onchange="changeLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="hi">हिंदी</option>
                    <option value="fr">Français</option>
                    <option value="es">Español</option>
                    <option value="zh">中文</option>
                </select>
            </div>
        </div>
    </nav>

    <header class="monument-header">
        <div class="header-content">
            <h1>{{ monument.name }}</h1>
            <p>{{ monument.short_description }}</p>
        </div>
    </header>

    <main class="content-section">
        <section>
            <h2 class="section-title" data-translate="history">
                <i class="fas fa-history"></i>
                History
            </h2>
            <div class="history-content" id="history-content">
                {{ monument.history }}
            </div>
            <div class="controls">
                <button class="btn btn-primary" onclick="readHistory()" id="readBtn">
                    <i class="fas fa-volume-up"></i>
                    <span data-translate="readHistory">Read History</span>
                </button>
                <button class="btn btn-secondary" onclick="downloadAudio()" id="downloadBtn" disabled>
                    <i class="fas fa-download"></i>
                    <span data-translate="downloadAudio">Download Audio</span>
                </button>
                <button class="btn btn-secondary" onclick="pauseAudio()" id="pauseBtn" style="display: none;">
                    <i class="fas fa-pause"></i>
                    <span data-translate="pause">Pause</span>
                </button>
            </div>
            <div class="loading" id="loading">
                <i class="fas fa-spinner"></i> 
                <span data-translate="generatingAudio">Generating audio...</span>
            </div>
            <div class="message success-message" id="successMessage">
                <span data-translate="audioSuccess">Audio generated successfully!</span>
            </div>
            <div class="message error-message" id="errorMessage">
                <span data-translate="audioError">Error generating audio. Please try again</span>
            </div>
            <div class="audio-player" id="audio-player" style="display: none;">
                <audio id="history-audio" controls onplay="handleAudioPlay()" onpause="handleAudioPause()">
                    Your browser does not support the audio element.
                </audio>
            </div>
        </section>

        <section>
            <h2 class="section-title" data-translate="highlights">
                <i class="fas fa-star"></i>
                Highlights
            </h2>
            <div class="highlights-grid">
                {% for highlight in monument.highlights %}
                <div class="highlight-card">
                    <h3>{{ highlight.title }}</h3>
                    <p>{{ highlight.description }}</p>
                </div>
                {% endfor %}
            </div>
        </section>

        <section>
            <h2 class="section-title" data-translate="visitorInfo">
                <i class="fas fa-info-circle"></i>
                Visitor Information
            </h2>
            <div class="highlights-grid">
                <div class="highlight-card">
                    <h3 data-translate="timing">Timing</h3>
                    <p>{{ monument.timing }}</p>
                </div>
                <div class="highlight-card">
                    <h3 data-translate="entryFee">Entry Fee</h3>
                    <div class="fee-details">
                        {% if monument.name == 'Taj Mahal' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹40</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹80</p>
                        {% elif monument.name == 'Red Fort' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹25</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹50</p>
                        {% elif monument.name == 'Qutub Minar' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹30</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹60</p>
                        {% elif monument.name == 'India Gate' %}
                            <p><strong data-translate="entry">Entry:</strong> Free for all visitors</p>
                        {% elif monument.name == 'Lotus Temple' %}
                            <p><strong data-translate="entry">Entry:</strong> Free for all visitors</p>
                        {% elif monument.name == 'Jama Masjid' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> Free</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹35</p>
                        {% elif monument.name == 'Purana Qila' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹20</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹40</p>
                        {% elif monument.name == 'National War Memorial' %}
                            <p><strong data-translate="entry">Entry:</strong> Free for all visitors</p>
                        {% elif monument.name == 'Rashtrapati Bhavan' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹15</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹30</p>
                        {% elif monument.name == 'Raj Ghat' %}
                            <p><strong data-translate="entry">Entry:</strong> Free for all visitors</p>
                        {% elif monument.name == 'Jantar Mantar' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹20</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹40</p>
                        {% elif monument.name == 'Akshardham Temple' %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹15</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹30</p>
                        {% elif monument.name == 'Lodi Gardens' %}
                            <p><strong data-translate="entry">Entry:</strong> Free for all visitors</p>
                        {% else %}
                            <p><strong data-translate="indianVisitors">Indian Visitors:</strong> ₹20</p>
                            <p><strong data-translate="foreignVisitors">Foreign Visitors:</strong> ₹40</p>
                        {% endif %}
                        <p><strong data-translate="cameraFee">Camera Fee:</strong> ₹50 (if applicable)</p>
                        <p><small data-translate="idProof">* Please carry valid ID proof (Aadhar for Indians, Passport for foreigners)</small></p>
                        {% if monument.name != 'India Gate' and monument.name != 'Lotus Temple' and monument.name != 'Raj Ghat' and monument.name != 'National War Memorial' and monument.name != 'Lodi Gardens' %}
                            <p><small data-translate="studentDiscount">* Students get 30% discount with valid student ID</small></p>
                        {% endif %}
                    </div>
                </div>
                <div class="highlight-card">
                    <h3 data-translate="bestTime">Best Time to Visit</h3>
                    <p>{{ monument.best_time }}</p>
                </div>
            </div>
        </section>

        <div class="virtual-tour-section">
            <div class="virtual-tour-header">
                <i class="fas fa-vr-cardboard"></i>
                <h2 data-translate="virtualTour">Virtual Tour</h2>
            </div>
            
            <div class="virtual-tour-container">
                {% if monument.virtual_tour_urls and monument.virtual_tour_urls|length > 0 %}
                <iframe id="tour-viewer" class="virtual-tour-viewer" 
                    src="{{ monument.virtual_tour_urls[0] }}" 
                    allowfullscreen>
                </iframe>
                {% else %}
                <div class="no-virtual-tour">
                    <p data-translate="noTour">Virtual tour is not available for this monument at the moment.</p>
                </div>
                {% endif %}
            </div>

            <div class="tour-controls">
                <button class="tour-control-button active">
                    <i class="fas fa-360-degrees"></i> 360° View
                </button>
            </div>

            <div class="tour-instructions">
                <i class="fas fa-info-circle"></i>
                <span data-translate="useMouse">Use your mouse to look around and scroll to zoom.</span>
            </div>
        </div>

        <div class="virtual-tour-section">
            <div class="virtual-tour-header">
                <i class="fas fa-map-marker-alt"></i>
                <h2 data-translate="getDirections">Get Directions</h2>
            </div>
            
            <div class="virtual-tour-container">
                <iframe id="map-viewer" class="virtual-tour-viewer" 
                    src="{{ monument.map_url }}" 
                    allowfullscreen>
                </iframe>
            </div>

            <div class="tour-controls">
                <a href="{{ monument.directions_url }}" target="_blank" class="btn btn-primary">
                    <i class="fas fa-directions"></i> 
                    <span data-translate="openMaps">Get Directions on Google Maps</span>
                </a>
            </div>

            <div class="tour-instructions">
                <i class="fas fa-info-circle"></i>
                <span data-translate="openMapsInfo">Click the button above to open Google Maps with directions to this monument.</span>
            </div>
        </div>
    </main>

    <script>
        let currentAudioUrl = null;

        function readHistory() {
            const loading = document.getElementById('loading');
            const audioPlayer = document.getElementById('audio-player');
            const downloadBtn = document.getElementById('downloadBtn');
            const readBtn = document.getElementById('readBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            const historyContent = document.getElementById('history-content').textContent;

            loading.style.display = 'block';
            audioPlayer.style.display = 'none';
            downloadBtn.disabled = true;
            readBtn.disabled = true;
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            // Call the text-to-speech API
            fetch('/text-to-speech', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    text: historyContent
                })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.blob();
            })
            .then(blob => {
                currentAudioUrl = URL.createObjectURL(blob);
                const audio = document.getElementById('history-audio');
                audio.src = currentAudioUrl;
                audioPlayer.style.display = 'block';
                loading.style.display = 'none';
                downloadBtn.disabled = false;
                readBtn.disabled = false;
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);
            })
            .catch(error => {
                console.error('Error:', error);
                loading.style.display = 'none';
                readBtn.disabled = false;
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
            });
        }

        function downloadAudio() {
            if (currentAudioUrl) {
                const a = document.createElement('a');
                a.href = currentAudioUrl;
                a.download = '{{ monument.name }}_history.mp3';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
        }

        function handleAudioPlay() {
            document.getElementById('pauseBtn').style.display = 'inline-flex';
        }

        function handleAudioPause() {
            document.getElementById('pauseBtn').style.display = 'none';
        }

        function pauseAudio() {
            const audio = document.getElementById('history-audio');
            if (audio) {
                audio.pause();
            }
        }

        // Clean up object URLs when the page is unloaded
        window.addEventListener('unload', () => {
            if (currentAudioUrl) {
                URL.revokeObjectURL(currentAudioUrl);
            }
        });

        // Virtual Tour Controls
        document.addEventListener('DOMContentLoaded', function() {
            const viewer = document.getElementById('tour-viewer');
            const controls = document.querySelectorAll('.tour-control-button');

            // Handle view type changes
            controls.forEach(button => {
                button.addEventListener('click', function() {
                    controls.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });

        // Language translation data
        const translations = {
            en: {
                history: "History",
                highlights: "Highlights",
                visitorInfo: "Visitor Information",
                timing: "Timing",
                entryFee: "Entry Fee",
                bestTime: "Best Time to Visit",
                cameraFee: "Camera Fee",
                idProof: "Please carry valid ID proof (Aadhar for Indians, Passport for foreigners)",
                studentDiscount: "Students get 30% discount with valid student ID",
                virtualTour: "Virtual Tour",
                getDirections: "Get Directions",
                useMouse: "Use your mouse to look around and scroll to zoom",
                openMaps: "Get Directions on Google Maps",
                openMapsInfo: "Click the button above to open Google Maps with directions to this monument",
                noTour: "Virtual tour is not available for this monument at the moment",
                readHistory: "Read History",
                downloadAudio: "Download Audio",
                pause: "Pause",
                generatingAudio: "Generating audio...",
                audioSuccess: "Audio generated successfully!",
                audioError: "Error generating audio. Please try again"
            },
            hi: {
                history: "इतिहास",
                highlights: "मुख्य आकर्षण",
                visitorInfo: "आगंतुक जानकारी",
                timing: "समय",
                entryFee: "प्रवेश शुल्क",
                bestTime: "भ्रमण का सर्वोत्तम समय",
                cameraFee: "कैमरा शुल्क",
                idProof: "कृपया वैध पहचान पत्र लाएं (भारतीयों के लिए आधार, विदेशियों के लिए पासपोर्ट)",
                studentDiscount: "वैध छात्र पहचान पत्र के साथ छात्रों को 30% छूट मिलती है",
                virtualTour: "आभासी यात्रा",
                getDirections: "दिशा-निर्देश प्राप्त करें",
                useMouse: "घूमने के लिए माउस का उपयोग करें और ज़ूम करने के लिए स्क्रॉल करें",
                openMaps: "Google Maps पर दिशा-निर्देश खोलें",
                openMapsInfo: "इस स्मारक के लिए Google Maps पर दिशा-निर्देश खोलने के लिए ऊपर दिए गए बटन पर क्लिक करें",
                noTour: "इस समय इस स्मारक के लिए आभासी यात्रा उपलब्ध नहीं है",
                readHistory: "इतिहास पढ़ें",
                downloadAudio: "ऑडियो डाउनलोड करें",
                pause: "रोकें",
                generatingAudio: "ऑडियो बनाया जा रहा है...",
                audioSuccess: "ऑडियो सफलतापूर्वक बनाया गया!",
                audioError: "ऑडियो बनाने में त्रुटि। कृपया पुनः प्रयास करें"
            },
            fr: {
                history: "Histoire",
                highlights: "Points forts",
                visitorInfo: "Informations pour les visiteurs",
                timing: "Horaires",
                entryFee: "Frais d'entrée",
                bestTime: "Meilleur moment pour visiter",
                cameraFee: "Frais de caméra",
                idProof: "Veuillez apporter une pièce d'identité valide (Aadhar pour les Indiens, passeport pour les étrangers)",
                studentDiscount: "Les étudiants bénéficient d'une réduction de 30% avec une carte d'étudiant valide",
                virtualTour: "Visite virtuelle",
                getDirections: "Obtenir l'itinéraire",
                useMouse: "Utilisez votre souris pour regarder autour et faites défiler pour zoomer",
                openMaps: "Obtenir l'itinéraire sur Google Maps",
                openMapsInfo: "Cliquez sur le bouton ci-dessus pour ouvrir Google Maps avec l'itinéraire vers ce monument",
                noTour: "La visite virtuelle n'est pas disponible pour ce monument pour le moment",
                readHistory: "Lire l'histoire",
                downloadAudio: "Télécharger l'audio",
                pause: "Pause",
                generatingAudio: "Génération de l'audio...",
                audioSuccess: "Audio généré avec succès !",
                audioError: "Erreur lors de la génération de l'audio. Veuillez réessayer"
            },
            es: {
                history: "Historia",
                highlights: "Destacados",
                visitorInfo: "Información para visitantes",
                timing: "Horario",
                entryFee: "Tarifa de entrada",
                bestTime: "Mejor momento para visitar",
                cameraFee: "Tarifa de cámara",
                idProof: "Por favor, traiga una identificación válida (Aadhar para indios, pasaporte para extranjeros)",
                studentDiscount: "Los estudiantes obtienen un 30% de descuento con una identificación estudiantil válida",
                virtualTour: "Tour virtual",
                getDirections: "Obtener indicaciones",
                useMouse: "Use el mouse para mirar alrededor y desplácese para hacer zoom",
                openMaps: "Obtener indicaciones en Google Maps",
                openMapsInfo: "Haga clic en el botón de arriba para abrir Google Maps con indicaciones a este monumento",
                noTour: "El tour virtual no está disponible para este monumento en este momento",
                readHistory: "Leer historia",
                downloadAudio: "Descargar audio",
                pause: "Pausa",
                generatingAudio: "Generando audio...",
                audioError: "Error al generar el audio. Por favor, intente de nuevo"
            },
            zh: {
                history: "历史",
                highlights: "亮点",
                visitorInfo: "游客信息",
                timing: "开放时间",
                entryFee: "入场费",
                bestTime: "最佳游览时间",
                cameraFee: "相机费用",
                idProof: "请携带有效身份证件（印度人需Aadhar卡，外国人需护照）",
                studentDiscount: "持有效学生证可享受30%折扣",
                virtualTour: "虚拟游览",
                getDirections: "获取路线",
                useMouse: "使用鼠标环顾四周，滚动缩放",
                openMaps: "在Google地图上获取路线",
                openMapsInfo: "点击上方按钮在Google地图上打开前往此纪念碑的路线",
                noTour: "目前无法提供此纪念碑的虚拟游览",
                readHistory: "阅读历史",
                downloadAudio: "下载音频",
                pause: "暂停",
                generatingAudio: "正在生成音频...",
                audioSuccess: "音频生成成功！",
                audioError: "生成音频时出错。请重试"
            }
        };

        function changeLanguage(lang) {
            const translation = translations[lang];
            if (!translation) return;

            // Update all translatable elements
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translation[key]) {
                    element.textContent = translation[key];
                }
            });

            // Update monument details if available
            if (window.monumentData) {
                const monument = window.monumentData[lang];
                if (monument) {
                    document.querySelector('.header-content h1').textContent = monument.name;
                    document.querySelector('.header-content p').textContent = monument.short_description;
                    document.getElementById('history-content').textContent = monument.history;
                    
                    // Update highlights
                    const highlights = document.querySelectorAll('.highlight-card');
                    monument.highlights.forEach((highlight, index) => {
                        if (highlights[index]) {
                            highlights[index].querySelector('h3').textContent = highlight.title;
                            highlights[index].querySelector('p').textContent = highlight.description;
                        }
                    });
                }
            }
        }

        // Initialize language selector
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('preferredLanguage') || 'en';
            document.getElementById('language-select').value = savedLang;
            changeLanguage(savedLang);
        });
    </script>
</body>
</html> 